"use strict";$(document).ready(function(){function e(a){var t=$(a.target).closest(".dropdown"),s=$(".dropdown-menu",t);setTimeout(function(){var e="click"!==a.type&&t.is(":hover");s.toggleClass("show",e),t.toggleClass("show",e),$('[data-toggle="dropdown"]',t).attr("aria-expanded",e)},"mouseleave"===a.type?50:0)}$("body").on("mouseenter mouseleave",".dropdown",e).on("click",".dropdown-menu a",e),$(".navbar-toggler").click(function(){$.parseJSON($(this).attr("aria-expanded"))?$("body").removeClass("no-scroll"):$("body").addClass("no-scroll")}),$(".latest-news-wrapper").slick({dots:!1,arrows:!1,infinite:!0,speed:300,slidesToShow:4,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:762,settings:{slidesToShow:2,variableWidth:!0,arrows:!1}},{breakpoint:500,settings:{slidesToShow:1,variableWidth:!1}}]}),$(".courses-wrapper").slick({dots:!1,prevArrow:'<i><span class="iconify ctrlbuttons prev"" data-icon="entypo:chevron-small-left" data-inline="false"></span></i>',nextArrow:'<i><span class="iconify ctrlbuttons next"" data-icon="entypo:chevron-small-right" data-inline="false"></span></i>',appendArrows:$(".courses-arrows"),infinite:!0,speed:300,slidesToShow:4,responsive:[{breakpoint:1172,settings:{slidesToShow:3}},{breakpoint:762,settings:{slidesToShow:2,variableWidth:!0,arrows:!1}},{breakpoint:500,settings:{slidesToShow:1,variableWidth:!1,arrows:!1}}]}),$("#filter-controls").slick({dots:!1,arrow:!1,infinite:!1,variableWidth:!0,slidesToShow:10,responsive:[{breakpoint:1172,settings:{slidesToShow:5,arrows:!1}},{breakpoint:762,settings:{slidesToShow:2,arrows:!1}}]}),$("#myList").lingGalleryFilter({tagContainer:$("#filter-controls")}),$(".header-panel-search-link").on("click",function(e){e.preventDefault(),$(".search-overlay").addClass("d-block"),$(this).addClass("search-overlay-icon"),$("body").addClass("search no-scroll"),$(".search-overlay-input").focus()}),$(".search-close").on("click",function(){$(".search-overlay").removeClass("d-block"),$(".header-panel-search-link").removeClass("search-overlay-icon"),$("body").removeClass("search no-scroll")}),$(".search-overlay-input").bind("change keyup input click",function(){var s,o;2<=this.value.length&&(s=this.value,$.ajax({type:"get",crossDomain:!0,url:"http://6235c466.ngrok.io/umbraco/api/livesearch/get?q="+this.value,success:function(t){$(".search-overlay-results").empty(),$.each(t.Results,function(e,a){o=t.Results[e].Criteria.replace(s,""),$(".search-overlay-results").append('<li><a href="search-page.html?q='+t.Results[e].Criteria+'">'+s+'<span class="marked">'+o+"</span></a></li>").fadeIn()})},error:function(){console.log("error!"),$(".search-overlay-results-nofound").show("slow")}}))}),$("search-overlay-results").hover(function(){$(".search-overlay-input").blur()}),$("search-overlay-results").on("click","li",function(){s_user=$(this).text(),$("search-overlay-results").fadeOut()}),$(window).scroll(function(){100<$(this).scrollTop()?$(".navbuttons-wrapper").fadeIn().css("display","inline-block"):$(".navbuttons-wrapper").fadeOut()}),$(".navbuttons-up").on("click",function(e){window.scrollTo({top:0,behavior:"smooth"})}),$(".navbuttons-back").on("click",function(e){e.preventDefault(),window.history.back()}),$(".newsletter-form").validate({rules:{first:{required:!0},second:{required:!0}},messages:{},errorPlacement:function(e,a){var t=$(a).data("error");t?$(t).append(e):e.insertAfter(a)},submitHandler:function(){$(".successTxt").text("Спасибо, вы подписались на нашу рассылку!"),window.setTimeout(function(){$(".successTxt").fadeOut("slow")},1500)}}),$(function(){var a=$("header").outerHeight(),t=$(".header-nav-wrapper").outerHeight();$(window).scroll(function(){var e=window.pageYOffset||document.documentElement.scrollTop;a<=e?($(".header-nav-wrapper").addClass("shrink"),$(".navbar").css("margin-top",t)):($(".header-nav-wrapper").removeClass("shrink"),$(".navbar").attr("style",""))})}),$(".info-slider").slick({dots:!1,prevArrow:'<i><span class="iconify ctrlbuttons prev"" data-icon="entypo:chevron-small-left" data-inline="false"></span></i>',nextArrow:'<i><span class="iconify ctrlbuttons next"" data-icon="entypo:chevron-small-right" data-inline="false"></span></i>',appendArrows:$(".info-slider-arrows"),infinite:!0,speed:300,slidesToShow:1,slidesToSwipe:1,asNavFor:".info-slider-desc"}),$(".info-slider-desc").slick({dots:!1,arrows:!1,infinite:!0,speed:300,slidesToShow:1,slidesToSwipe:1,draggable:!1,asNavFor:".info-slider"});var a,t,s=[];$("#todayEvents").find("[data-category]").each(function(){a=$(this).attr("data-category").split("-"),t=new Date(a[2],a[1]-1,a[0]),s.push({date:t})}),$("#calendar").MEC({events:s,from_monday:!0}),$("#calTbody").length&&$("#calTbody").animate({scrollLeft:$(".current").position().left-$("#calTbody").width()/2+$(".a-date").width()/2},500),$("#todayEvents").lingGalleryFilter({tagContainer:$("#calendar")}),$(".month-mover").on("click",function(){$("#todayEvents").lingGalleryFilter({tagContainer:$("#calendar")})});var o,n=(o={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,t){o[a]=t}),o).search;$("#input-placeholder").attr("value",n),$(window).on("resize change load hashchange",function(){var e=$(window).width(),a=500<=e?1:0,s=null,t="#page-",o=new RegExp(t+"(\\d*)","gi");window.location.href.replace(o,function(e,a,t){s=a});e<=768&&$("#calTbody").on("mousewheel DOMMouseScroll",function(e){var a=Math.max(-1,Math.min(1,e.originalEvent.wheelDelta||-e.originalEvent.detail));$(this).scrollLeft($(this).scrollLeft()-30*a),e.preventDefault()}),$(function(){$(".pagination").pagination({items:100,itemsOnPage:10,displayedPages:3,edges:a,currentPage:s,hrefTextPrefix:t,prevText:'<i><span class="iconify ctrlbuttons prev"" data-icon="entypo:chevron-small-left" data-inline="false"></span></i>',nextText:'<i><span class="iconify ctrlbuttons next"" data-icon="entypo:chevron-small-right" data-inline="false"></span></i>'})})}),$(".navbar-nav").on("resize click touchmove scroll mousewheel",function(e){var a=$(".navbar-nav").position().top;console.log(a),a<=0?$(".header-panel, .header-info, .navbar-toggler").addClass("d-none"):$(".header-panel, .header-info, .navbar-toggler").removeClass("d-none")});var r=$(".search-results-item").length;$(".search-results-count").text("Найдено "+r+" результатов"),$(".certificate-icon").bind("change keyup input click",function(){$.ajax({type:"get",crossDomain:!0,url:"http://6235c466.ngrok.io/umbraco/api/livesearch/get?q="+this.value,success:function(e){},error:function(){$(".certificate-input").addClass("error"),$(".certificate-hint").text("Сертификат с таким номером не найден, проверьте номер").addClass("error"),$("img, .certificate-desc").addClass("certificate-opacity")}})}),$(".form-input").on("keyup blur",function(){""!=$(this).val()?$(this).addClass("no-empty"):$(this).removeClass("no-empty")}),$(".modal-desc").text($(".page-title").text()),$("#frmDemo").submit(function(e){e.preventDefault();var a=$("#name").val(),t=$("#comment").val();""==a||""==t?$("#error_message").show().html("All Fields are Required"):($("#error_message").html("").hide(),$.ajax({type:"POST",url:"post-form.php",data:"name="+a+"&comment="+t,success:function(e){$("#success_message").fadeIn().html(e),setTimeout(function(){$("#success_message").fadeOut("slow")},2e3)}}))}),jQuery.validator.addMethod("lettersonly",function(e,a){return this.optional(a)||/^[\t-\r 'A-z\xA0\u017F\u0410-\u044F\u0451\u0454\u0456\u0457\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u212A\u3000\uFEFF]+$/i.test(e)},"Допускаются только буквенные символы."),$(".modal-content").validate({rules:{name:{required:!0,minlength:2,maxlength:200,lettersonly:!0},email:{required:!0,email:!0},phone:{digits:!0,minlength:10,maxlength:12}},messages:{},errorPlacement:function(e,a){var t=$(a).data("error");t?$(t).html(e):e.insertAfter(a)},submitHandler:function(){$(".modal-title, .modal-desc, .modal-body, .modal-footer").hide(),$(".modal-title-hide, .modal-desc-hide").show()}})});